webpackJsonp([7],{HQGl:function(t,a,n){a=t.exports=n("FZ+f")(!0),a.push([t.i,"\n.rank-content .iconfont {\n  font-size: 24px;\n}\n","",{version:3,sources:["/Users/lh/work/zk/fe/src/news/article.vue"],names:[],mappings:";AACA;EACE,gBAAgB;CACjB",file:"article.vue",sourcesContent:["\n.rank-content .iconfont {\n  font-size: 24px;\n}\n"],sourceRoot:""}])},LrCi:function(t,a,n){"use strict";function e(t){n("v/JQ"),n("xoce")}Object.defineProperty(a,"__esModule",{value:!0});var c=n("vLgD"),r=n("X2Oc"),o=n("Ebwx"),i=(o.a,{components:{star:o.a},data:function(){return{loading:!1,title:"",author:"",img:"",time:"",content:[],orgUrl:"",score:0,hasScored:!1}},mounted:function(){this.$store.commit("SET_RETURN_TEXT","看新闻"),this.$store.commit("SET_RETURN_URL","/tech"),this.getDetail()},methods:{getDetail:function(){var t=this;this.loading=!0,Object(c.a)({url:"http://www.zhiheyikaoqin.cn/article/getArticleContent",method:"post",data:{artId:this.$route.params.id}}).then(function(a){t.loading=!1,t.title=a.data.data.title,t.author=a.data.data.articleSource,t.img=a.data.data.articleImg,t.time=a.data.data.articleDate,t.orgUrl=a.data.data.articleUrl,-1!==a.data.data.articleContent.indexOf("<p>")?t.content=a.data.data.articleContent.replace(/<p>/g,"").split("</p>").map(function(t){return{type:"text",text:t}}):t.content=a.data.data.articleContent,t.initScore()})},initScore:function(){var t=this;Object(c.a)({url:"http://www.zhiheyikaoqin.cn/article/getArticleScore?openid="+this.$store.state.user.openid+"&artId="+this.$route.params.id,method:"get"}).then(function(a){void 0!==a.data.data&&null!==a.data.data&&void 0!==a.data.data.scoreId?(t.hasScored=!0,t.score=a.data.data.score):t.hasScored=!1})},updateScore:function(t,a){var n=this;if(this.hasScored)return void Object(r.a)(this,"已评价过");this.score=t,console.log("sate",t,a),Object(c.a)({url:"http://www.zhiheyikaoqin.cn/article/putScore?openid="+this.$store.state.user.openid+"&artId="+this.$route.params.id+"&score="+t,method:"get"}).then(function(t){0===t.data.code&&(n.hasScored=!0),Object(r.b)(n,t.data.msg)})}}}),s=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"article-block"},[n("div",{staticClass:"art-header"},[n("div",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"author"},[n("span",[t._v("From: ")]),t._v(" "+t._s(t.author))]),t._v(" "),n("div",{staticClass:"time"},[n("span",[t._v(t._s(t.time))])])]),t._v(" "),n("div",{staticClass:"art-body"},[t._l(t.content,function(a){return["title"===a.type?n("h4",[t._v(t._s(a.text))]):"text"===a.type?n("p",[t._v(t._s(a.text))]):n("img",{attrs:{src:a.text}})]}),t._v(" "),n("div",{staticClass:"rank"},[n("div",{staticClass:"rank-label"},[t._v("评价新闻：")]),t._v(" "),n("div",{staticClass:"rank-content"},[n("star",{attrs:{length:5,value:t.score,isreadonly:t.hasScored},on:{updateScore:t.updateScore}})],1)]),t._v(" "),n("div",{staticClass:"art-org"},[n("a",{attrs:{href:t.orgUrl}},[t._v("原文出处")])])],2)])},d=[],l={render:s,staticRenderFns:d},A=l,h=n("VU/8"),p=e,C=h(i,A,!1,p,"data-v-7c4c034c",null);a.default=C.exports},"cF+O":function(t,a,n){a=t.exports=n("FZ+f")(!0),a.push([t.i,"\n.article-block[data-v-7c4c034c] {\n  background: #fff;\n  padding: 80px 20px 20px 20px;\n}\n.art-header[data-v-7c4c034c] {\n  margin-bottom: 20px;\n}\n.art-header .title[data-v-7c4c034c] {\n    font-size: 15px;\n    line-height: 1.4;\n    margin-bottom: 4px;\n    color: #333;\n}\n.art-header .author[data-v-7c4c034c],\n  .art-header .time[data-v-7c4c034c] {\n    display: inline-block;\n    margin-right: 10px;\n    color: #576b95;\n}\n.art-header .author span[data-v-7c4c034c],\n    .art-header .time span[data-v-7c4c034c] {\n      color: rgba(0, 0, 0, 0.3);\n}\n.art-body[data-v-7c4c034c] {\n  color: #333;\n  text-align: justify;\n}\n.art-body h4[data-v-7c4c034c] {\n    font-size: 14px;\n    color: #576b95;\n}\n.art-body p[data-v-7c4c034c] {\n    line-height: 2;\n    font-size: 14px;\n}\n.art-body img[data-v-7c4c034c] {\n    width: 100%;\n}\n.art-org[data-v-7c4c034c] {\n  margin: 20px 0;\n}\n.art-org a[data-v-7c4c034c] {\n    color: #576b95;\n}\n.rank[data-v-7c4c034c] {\n  margin-top: 40px;\n}\n.rank .rank-label[data-v-7c4c034c] {\n    color: #576b95;\n    line-height: 34px;\n    vertical-align: bottom;\n}\n.rank .rank-label[data-v-7c4c034c], .rank .rank-content[data-v-7c4c034c] {\n    display: inline-block;\n}\n","",{version:3,sources:["/Users/lh/work/zk/fe/src/news/article.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,6BAA6B;CAC9B;AACD;EACE,oBAAoB;CACrB;AACD;IACI,gBAAgB;IAChB,iBAAiB;IACjB,mBAAmB;IACnB,YAAY;CACf;AACD;;IAEI,sBAAsB;IACtB,mBAAmB;IACnB,eAAe;CAClB;AACD;;MAEM,0BAA0B;CAC/B;AACD;EACE,YAAY;EACZ,oBAAoB;CACrB;AACD;IACI,gBAAgB;IAChB,eAAe;CAClB;AACD;IACI,eAAe;IACf,gBAAgB;CACnB;AACD;IACI,YAAY;CACf;AACD;EACE,eAAe;CAChB;AACD;IACI,eAAe;CAClB;AACD;EACE,iBAAiB;CAClB;AACD;IACI,eAAe;IACf,kBAAkB;IAClB,uBAAuB;CAC1B;AACD;IACI,sBAAsB;CACzB",file:"article.vue",sourcesContent:["\n.article-block[data-v-7c4c034c] {\n  background: #fff;\n  padding: 80px 20px 20px 20px;\n}\n.art-header[data-v-7c4c034c] {\n  margin-bottom: 20px;\n}\n.art-header .title[data-v-7c4c034c] {\n    font-size: 15px;\n    line-height: 1.4;\n    margin-bottom: 4px;\n    color: #333;\n}\n.art-header .author[data-v-7c4c034c],\n  .art-header .time[data-v-7c4c034c] {\n    display: inline-block;\n    margin-right: 10px;\n    color: #576b95;\n}\n.art-header .author span[data-v-7c4c034c],\n    .art-header .time span[data-v-7c4c034c] {\n      color: rgba(0, 0, 0, 0.3);\n}\n.art-body[data-v-7c4c034c] {\n  color: #333;\n  text-align: justify;\n}\n.art-body h4[data-v-7c4c034c] {\n    font-size: 14px;\n    color: #576b95;\n}\n.art-body p[data-v-7c4c034c] {\n    line-height: 2;\n    font-size: 14px;\n}\n.art-body img[data-v-7c4c034c] {\n    width: 100%;\n}\n.art-org[data-v-7c4c034c] {\n  margin: 20px 0;\n}\n.art-org a[data-v-7c4c034c] {\n    color: #576b95;\n}\n.rank[data-v-7c4c034c] {\n  margin-top: 40px;\n}\n.rank .rank-label[data-v-7c4c034c] {\n    color: #576b95;\n    line-height: 34px;\n    vertical-align: bottom;\n}\n.rank .rank-label[data-v-7c4c034c], .rank .rank-content[data-v-7c4c034c] {\n    display: inline-block;\n}\n"],sourceRoot:""}])},"v/JQ":function(t,a,n){var e=n("cF+O");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);n("rjj0")("5083a994",e,!0,{})},xoce:function(t,a,n){var e=n("HQGl");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);n("rjj0")("55338e94",e,!0,{})}});
//# sourceMappingURL=7.fe60fe2e47d28169753f.js.map