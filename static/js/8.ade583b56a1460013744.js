webpackJsonp([8],{LrCi:function(e,t,a){"use strict";function n(e){a("v9dd"),a("xz7b")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("vLgD"),i=a("X2Oc"),o=a("Ebwx"),c=(o.a,{components:{star:o.a},data:function(){return{loading:!1,title:"",author:"",img:"",time:"",content:[],orgUrl:"",score:0,hasScored:!1,articleLabel1:"",articleLabel2:""}},computed:{isUnReg:function(){return void 0===this.$store.state.user.openid||""===this.$store.state.user.openid}},mounted:function(){console.log(this.$store.state.user.openid),this.$store.commit("SET_RETURN_TEXT","看新闻"),this.$store.commit("SET_RETURN_URL","/tech"),this.getDetail()},methods:{getDetail:function(){var e=this;this.loading=!0,Object(r.a)({url:"http://www.zhiheyikaoqin.cn/article/getArticleContent",method:"post",data:{artId:this.$route.params.id,openid:this.$store.state.user.openid}}).then(function(t){e.loading=!1,e.title=t.data.data.title,e.author=t.data.data.articleSource,e.img=t.data.data.articleImg,e.time=t.data.data.articleDate,e.orgUrl=t.data.data.articleUrl,e.articleLabel1=t.data.data.articleLabel1||"高考",e.articleLabel2=t.data.data.articleLabel2||"观看更多",-1!==t.data.data.articleContent.indexOf("<p>")?e.content=t.data.data.articleContent.replace(/<p>/g,"").split("</p>").map(function(e){return{type:"text",text:e}}):e.content=t.data.data.articleContent,e.initScore()})},initScore:function(){var e=this;Object(r.a)({url:"http://www.zhiheyikaoqin.cn/article/getArticleScore?openid="+this.$store.state.user.openid+"&artId="+this.$route.params.id,method:"get"}).then(function(t){void 0!==t.data.data&&null!==t.data.data&&void 0!==t.data.data.scoreId?(e.hasScored=!0,e.score=t.data.data.score):e.hasScored=!1})},updateScore:function(e,t){var a=this;return this.isUnReg?void Object(i.a)(this,"没注册不允许评论"):this.hasScored?void Object(i.a)(this,"已评价过"):(this.score=e,console.log("sate",e,t),void Object(r.a)({url:"http://www.zhiheyikaoqin.cn/article/putScore?openid="+this.$store.state.user.openid+"&artId="+this.$route.params.id+"&score="+e,method:"get"}).then(function(e){0===e.data.code&&(a.hasScored=!0),Object(i.b)(a,e.data.msg)}))}}}),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"article-block"},[a("div",{staticClass:"art-header"},[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"author"},[a("span"),e._v(" "+e._s(e.author))]),e._v(" "),a("div",{staticClass:"time"},[a("span",[e._v(e._s(e.time))])]),e._v(" "),a("div",{staticClass:"tag"},[void 0!==e.articleLabel1&&""!==e.articleLabel1?a("span",[e._v(e._s(e.articleLabel1))]):e._e(),e._v(" "),void 0!==e.articleLabel2&&""!==e.articleLabel2?a("span",[e._v(e._s(e.articleLabel2))]):e._e()])]),e._v(" "),a("div",{staticClass:"art-body"},[void 0!==e.img&&""!==e.img?a("img",{attrs:{src:e.img}}):e._e(),e._v(" "),e._l(e.content,function(t){return["title"===t.type?a("h4",[e._v(e._s(t.text))]):"text"===t.type?a("p",[e._v(e._s(t.text))]):a("img",{attrs:{src:t.text}})]}),e._v(" "),a("div",{staticClass:"rank"},[a("div",{staticClass:"rank-label"},[e._v("评价新闻：")]),e._v(" "),a("div",{staticClass:"rank-content"},[a("star",{attrs:{length:5,value:e.score,disabled:e.isUnReg,isreadonly:e.hasScored},on:{updateScore:e.updateScore}})],1)]),e._v(" "),a("div",{staticClass:"art-org"},[a("a",{attrs:{href:e.orgUrl}},[e._v("原文出处")])])],2)])},d=[],l={render:s,staticRenderFns:d},A=l,p=a("VU/8"),f=n,C=p(c,A,!1,f,"data-v-6cee8cfe",null);t.default=C.exports},utrF:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,"\n.rank-content .iconfont {\n  font-size: 24px;\n}\n","",{version:3,sources:["/Users/lh/work/zk/fe/src/news/article.vue"],names:[],mappings:";AACA;EACE,gBAAgB;CACjB",file:"article.vue",sourcesContent:["\n.rank-content .iconfont {\n  font-size: 24px;\n}\n"],sourceRoot:""}])},v9dd:function(e,t,a){var n=a("zOR3");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("02bee05e",n,!0,{})},xz7b:function(e,t,a){var n=a("utrF");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("2b419dec",n,!0,{})},zOR3:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,"\n.article-block[data-v-6cee8cfe] {\n  background: #fff;\n  padding: 80px 20px 20px 20px;\n}\n.art-header[data-v-6cee8cfe] {\n  margin-bottom: 20px;\n}\n.art-header .title[data-v-6cee8cfe] {\n    font-size: 17px;\n    line-height: 1.4;\n    margin-bottom: 4px;\n    color: #333;\n}\n.art-header .author[data-v-6cee8cfe],\n  .art-header .time[data-v-6cee8cfe] {\n    display: inline-block;\n    margin-right: 10px;\n    color: #576b95;\n}\n.art-header .author span[data-v-6cee8cfe],\n    .art-header .time span[data-v-6cee8cfe] {\n      color: rgba(0, 0, 0, 0.3);\n}\n.art-header .tag[data-v-6cee8cfe] {\n    display: inline-block;\n    color: #aaa;\n}\n.art-header .tag span[data-v-6cee8cfe] {\n      display: inline-block;\n      background: #ababab;\n      color: #fff;\n      padding: 0 6px;\n      border-radius: 6px;\n}\n.art-body[data-v-6cee8cfe] {\n  color: #333;\n  text-align: justify;\n}\n.art-body h4[data-v-6cee8cfe] {\n    font-size: 16px;\n    color: #576b95;\n}\n.art-body p[data-v-6cee8cfe] {\n    line-height: 2;\n    font-size: 16px;\n}\n.art-body img[data-v-6cee8cfe] {\n    width: 100%;\n}\n.art-org[data-v-6cee8cfe] {\n  margin: 20px 0;\n}\n.art-org a[data-v-6cee8cfe] {\n    color: #576b95;\n}\n.rank[data-v-6cee8cfe] {\n  margin-top: 40px;\n}\n.rank .rank-label[data-v-6cee8cfe] {\n    color: #576b95;\n    line-height: 34px;\n    vertical-align: bottom;\n}\n.rank .rank-label[data-v-6cee8cfe], .rank .rank-content[data-v-6cee8cfe] {\n    display: inline-block;\n}\n","",{version:3,sources:["/Users/lh/work/zk/fe/src/news/article.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,6BAA6B;CAC9B;AACD;EACE,oBAAoB;CACrB;AACD;IACI,gBAAgB;IAChB,iBAAiB;IACjB,mBAAmB;IACnB,YAAY;CACf;AACD;;IAEI,sBAAsB;IACtB,mBAAmB;IACnB,eAAe;CAClB;AACD;;MAEM,0BAA0B;CAC/B;AACD;IACI,sBAAsB;IACtB,YAAY;CACf;AACD;MACM,sBAAsB;MACtB,oBAAoB;MACpB,YAAY;MACZ,eAAe;MACf,mBAAmB;CACxB;AACD;EACE,YAAY;EACZ,oBAAoB;CACrB;AACD;IACI,gBAAgB;IAChB,eAAe;CAClB;AACD;IACI,eAAe;IACf,gBAAgB;CACnB;AACD;IACI,YAAY;CACf;AACD;EACE,eAAe;CAChB;AACD;IACI,eAAe;CAClB;AACD;EACE,iBAAiB;CAClB;AACD;IACI,eAAe;IACf,kBAAkB;IAClB,uBAAuB;CAC1B;AACD;IACI,sBAAsB;CACzB",file:"article.vue",sourcesContent:["\n.article-block[data-v-6cee8cfe] {\n  background: #fff;\n  padding: 80px 20px 20px 20px;\n}\n.art-header[data-v-6cee8cfe] {\n  margin-bottom: 20px;\n}\n.art-header .title[data-v-6cee8cfe] {\n    font-size: 17px;\n    line-height: 1.4;\n    margin-bottom: 4px;\n    color: #333;\n}\n.art-header .author[data-v-6cee8cfe],\n  .art-header .time[data-v-6cee8cfe] {\n    display: inline-block;\n    margin-right: 10px;\n    color: #576b95;\n}\n.art-header .author span[data-v-6cee8cfe],\n    .art-header .time span[data-v-6cee8cfe] {\n      color: rgba(0, 0, 0, 0.3);\n}\n.art-header .tag[data-v-6cee8cfe] {\n    display: inline-block;\n    color: #aaa;\n}\n.art-header .tag span[data-v-6cee8cfe] {\n      display: inline-block;\n      background: #ababab;\n      color: #fff;\n      padding: 0 6px;\n      border-radius: 6px;\n}\n.art-body[data-v-6cee8cfe] {\n  color: #333;\n  text-align: justify;\n}\n.art-body h4[data-v-6cee8cfe] {\n    font-size: 16px;\n    color: #576b95;\n}\n.art-body p[data-v-6cee8cfe] {\n    line-height: 2;\n    font-size: 16px;\n}\n.art-body img[data-v-6cee8cfe] {\n    width: 100%;\n}\n.art-org[data-v-6cee8cfe] {\n  margin: 20px 0;\n}\n.art-org a[data-v-6cee8cfe] {\n    color: #576b95;\n}\n.rank[data-v-6cee8cfe] {\n  margin-top: 40px;\n}\n.rank .rank-label[data-v-6cee8cfe] {\n    color: #576b95;\n    line-height: 34px;\n    vertical-align: bottom;\n}\n.rank .rank-label[data-v-6cee8cfe], .rank .rank-content[data-v-6cee8cfe] {\n    display: inline-block;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=8.ade583b56a1460013744.js.map